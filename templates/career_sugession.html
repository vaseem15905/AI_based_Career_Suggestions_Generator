{% comment %} <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career & Question Generator | Skill.AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: url('https://source.unsplash.com/1600x900/?technology,ai') no-repeat center center fixed;
            background-size: cover;
        }
        .skill-btn {
            transition: all 0.3s ease;
        }
        .skill-btn.selected {
            background: linear-gradient(135deg, #2563EB 0%, #7C3AED 100%);
            color: white;
            transform: scale(1.05);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-gray-900 bg-opacity-80 p-4">
    <div class="w-full max-w-4xl p-8 space-y-6 bg-gray-800 bg-opacity-90 rounded-2xl shadow-xl text-white">
        <div class="text-center">
            <!-- SVG Logo -->
            <div class="flex justify-center">
                <svg width="160" height="60" viewBox="0 0 160 60" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" stop-color="#2563EB"/>
                            <stop offset="100%" stop-color="#7C3AED"/>
                        </linearGradient>
                    </defs>
                    <path d="M20,30 Q30,10 40,30 T60,30 T80,30 T100,30 T120,30" 
                          stroke="url(#grad)" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <text x="80" y="45" text-anchor="middle" font-family="Inter, sans-serif" 
                          font-size="24" font-weight="600" fill="url(#grad)">
                        Skill.<tspan fill="#7C3AED">AI</tspan>
                    </text>
                </svg>
            </div>
            <h2 class="mt-2 text-2xl font-semibold">Career & Question Generator</h2>
            <p class="text-sm text-gray-400">Explore career suggestions and answer skill-based questions.</p>
        </div>

        <!-- Career Suggestions Section -->
        <div class="mt-6">
            <h3 class="text-lg font-medium mb-3">Career Suggestions</h3>
            <div id="careerSuggestions" class="p-4 bg-gray-700 rounded-lg">
                <!-- Career suggestions will be dynamically generated -->
            </div>
        </div>

        <!-- Questions Section -->
        <div class="mt-6">
            <h3 class="text-lg font-medium mb-3">Skill-Based Questions</h3>
            <div id="questionsContainer" class="p-4 bg-gray-700 rounded-lg">
                <!-- Questions will be dynamically generated -->
            </div>
        </div>

        <!-- Buttons -->
        <div class="pt-4 flex justify-between">
            <button onclick="window.location.href='/data_demo'" 
                    class="py-3 px-6 text-lg font-semibold text-white bg-gradient-to-r from-red-500 to-red-700 rounded-lg shadow-lg hover:from-red-600 hover:to-red-800 transition-all duration-300">
                Back
            </button>
            <button onclick="window.location.href='/career_results'" 
                    class="py-3 px-6 text-lg font-semibold text-white bg-gradient-to-r from-blue-500 to-blue-700 rounded-lg shadow-lg hover:from-blue-600 hover:to-blue-800 transition-all duration-300">
                Submit
            </button>
        </div>
    </div>

    <script>
        const careerSuggestions = {
            "C": ["Embedded Systems Developer", "System Programmer"],
            "C++": ["Game Developer", "Software Engineer"],
            "Python": ["Data Scientist", "Machine Learning Engineer"],
            "Java": ["Backend Developer", "Android Developer"],
            "Web Development": ["Front-end Developer", "Full Stack Developer"]
        };

        const questionsBank = {
            "C": ["What are pointers in C?", "Explain memory management in C."],
            "C++": ["What is polymorphism in C++?", "Explain the difference between C and C++."],
            "Python": ["What are Python decorators?", "Explain list comprehensions in Python."],
            "Java": ["What is the difference between an interface and an abstract class in Java?"],
            "Web Development": ["What is the difference between HTML and HTML5?"]
        };

        function generateContent() {
            const studentData = JSON.parse(localStorage.getItem('studentData'));
            const skills = studentData ? studentData.skills : [];

            const careerContainer = document.getElementById('careerSuggestions');
            const questionsContainer = document.getElementById('questionsContainer');

            careerContainer.innerHTML = '';
            questionsContainer.innerHTML = '';

            if (skills.length === 0) {
                careerContainer.innerHTML = "<p>No skills selected. Please go back and complete the Data Collection form.</p>";
                return;
            }

            skills.forEach(skill => {
                // Add career suggestions
                if (careerSuggestions[skill]) {
                    careerSuggestions[skill].forEach(career => {
                        const div = document.createElement('div');
                        div.className = "p-2 bg-gray-600 rounded-lg shadow mb-2";
                        div.innerHTML = `<strong>${career}</strong>`;
                        careerContainer.appendChild(div);
                    });
                }

                // Add skill-specific questions
                if (questionsBank[skill]) {
                    questionsBank[skill].forEach(question => {
                        const div = document.createElement('div');
                        div.className = "mb-4";
                        div.innerHTML = `<strong>${question}</strong><br>
                                         <textarea placeholder="Your answer here..." class="w-full px-4 py-2 mt-2 text-black rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none hover:bg-gray-700 transition duration-200"></textarea>`;
                        questionsContainer.appendChild(div);
                    });
                }
            });
        }

        function submitAnswers() {
            const answers = [];
            document.querySelectorAll('#questionsContainer textarea').forEach((textarea, index) => {
                const question = textarea.previousSibling.textContent.trim();
                const answer = textarea.value.trim();
                answers.push({ question, answer });
            });

            // Send answers to the backend
            fetch('/evaluate', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ answers })
            })
            .then(response => response.json())
            .then(result => {
                if (result.feedback) {
                    // Save question results to localStorage
                    localStorage.setItem('questionResults', JSON.stringify(result.feedback));

                    // Example career suggestions based on skill level
                    const careerSuggestions = result.feedback.map(item => {
                        if (item.skill_level === 'Beginner') return 'Junior Developer';
                        if (item.skill_level === 'Intermediate') return 'Software Engineer';
                        if (item.skill_level === 'Expert') return 'Senior Developer';
                        return 'Unknown Career Path';
                    });

                    // Save career suggestions to localStorage
                    localStorage.setItem('careerSuggestions', JSON.stringify(careerSuggestions));

                    // Redirect to the results page
                    window.location.href = '/career_results';
                } else {
                    alert('Error: Unable to evaluate answers.');
                }
            })
            .catch(error => console.error('Error:', error));
        }

        window.onload = generateContent;
    </script>
</body>
</html> {% endcomment %}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Suggestion</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>AI-Based Career Suggestion</h1>
        <form action="/predict" method="post">
            <label for="question">Enter your skills and interests:</label>
            <input type="text" id="question" name="question" required>
            <button type="submit">Get Suggestion</button>
        </form>
    </div>
</body>
</html>
